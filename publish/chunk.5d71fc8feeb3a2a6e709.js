(window.webpackJsonp=window.webpackJsonp||[]).push([[35,48],{224:function(e,t,i){"use strict";i(7);var s=i(30),a=i(28),n=i(34),r=i(73),l=i(24),c=i(5),o=i(227),p=i(230),d=i.n(p),u=i(237);const h="object"==typeof window&&window.localStorage,g="shipping-to-zip",_=e=>{const t={};return["product_id","variation_id","sku","name","quantity","inventory","currency_id","currency_symbol","price","final_price","dimensions","weight"].forEach((i=>{void 0!==e[i]&&(t[i]=e[i])})),t};var v={name:"ShippingCalculator",components:{CleaveInput:d.a,ShippingLine:u.a},props:{zipCode:String,canSelectServices:Boolean,canInputZip:{type:Boolean,default:!0},countryCode:{type:String,default:a.$ecomConfig.get("country_code")},shippedItems:{type:Array,default:()=>[]},shippingResult:{type:Array,default:()=>[]},shippingData:{type:Object,default:()=>({})},skipAppIds:Array,shippingAppsSort:{type:Array,default:()=>window.ecomShippingApps||[]}},data:()=>({localZipCode:null,localShippedItems:[],amountSubtotal:null,shippingServices:[],selectedService:null,hasPaidOption:!1,freeFromValue:null,isScheduled:!1,retryTimer:null,isWaiting:!1,hasCalculated:!1}),computed:{i19add$1ToEarn:()=>Object(n.a)(s.j),i19calculateShipping:()=>Object(n.a)(s.E),i19zipCode:()=>Object(n.a)(s.ye),i19freeShipping:()=>Object(n.a)(s.Cb).toLowerCase(),cleaveOptions(){return"BR"===this.countryCode?{blocks:[5,3],delimiter:"-"}:{blocks:[30]}},freeFromPercentage(){return this.hasPaidOption&&this.amountSubtotal<this.freeFromValue?Math.round(100*this.amountSubtotal/this.freeFromValue):null},shippingServicesFinal(){return this.shippingServices.filter((e=>1253===e.app_id&&("5050"==e.service_code||"20133"==e.service_code||"6060"==e.service_code)||1253!==e.app_id))},productionDeadline(){let e=0;return this.shippedItems.forEach((t=>{if(t.quantity&&t.production_time){const{days:i,cumulative:s}=t.production_time,a=s?i*t.quantity:i;a>e&&(e=a)}})),e}},methods:{formatMoney:r.a,updateZipCode(){this.$emit("update:zip-code",this.localZipCode)},parseShippingOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.freeFromValue=null,this.shippingServices=[],e.length&&(e.forEach((t=>{const{validated:i,error:s,response:a}=t;if(!i||s)return;if(this.skipAppIds&&this.skipAppIds.includes(t.app_id)&&e.filter((e=>{let{app_id:t}=e;return!this.skipAppIds.includes(t)})).length)return;a.shipping_services.forEach((e=>{this.shippingServices.push({app_id:t.app_id,...e})}));const n=a.free_shipping_from_value;n&&(!this.freeFromValue||this.freeFromValue>n)&&(this.freeFromValue=n)})),this.shippingServices.length?(this.shippingServices=this.shippingServices.sort(((e,t)=>{const i=e.shipping_line.total_price-t.shipping_line.total_price;return i<0?-1:i>0?1:e.shipping_line.delivery_time&&t.shipping_line.delivery_time&&e.shipping_line.delivery_time.days<t.shipping_line.delivery_time.days?-1:1})),this.hasPaidOption=Boolean(this.shippingServices.find((e=>e.shipping_line.total_price||e.shipping_line.price))),Array.isArray(this.shippingAppsSort)&&this.shippingAppsSort.length&&(this.shippingServices=Object(o.a)(this.shippingServices,this.shippingAppsSort)),this.setSelectedService(0)):t?this.scheduleRetry():this.fetchShippingServices(!0))},scheduleRetry(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;clearTimeout(this.retryTimer),this.retryTimer=setTimeout((()=>{this.localZipCode&&!this.shippingServices.length&&this.shippedItems.length&&this.fetchShippingServices(!0)}),e)},fetchShippingServices(e){this.isScheduled||(this.isScheduled=!0,setTimeout((()=>{this.isScheduled=!1;const{storeId:t}=this;let i="/calculate_shipping.json";this.skipAppIds&&this.skipAppIds.length&&(i+="?skip_ids=",this.skipAppIds.forEach(((e,t)=>{t>0&&(i+=","),i+=`${e}`})));const s={...this.shippingData,to:{zip:this.localZipCode,...this.shippingData.to}};this.localShippedItems.length&&(s.items=this.localShippedItems,s.subtotal=this.amountSubtotal),this.isWaiting=!0,Object(c.c)({url:i,method:"POST",storeId:t,data:s}).then((t=>{let{data:i}=t;return this.parseShippingOptions(i.result,e)})).catch((t=>{e||this.scheduleRetry(4e3),console.error(t)})).finally((()=>{this.hasCalculated=!0,this.isWaiting=!1}))}),this.hasCalculated?150:50))},submitZipCode(){this.updateZipCode(),h&&h.setItem(g,this.localZipCode),this.fetchShippingServices()},setSelectedService(e){if(this.canSelectServices){this.$emit("select-service",this.shippingServices[e]),this.selectedService=e;const t=window.dataLayer.find((e=>{let{event:t}=e;return"eec.checkout"===t}));window.dataLayer.push({event:"add_shipping_info",ecommerce:{currency:"BRL",shipping_method:this.shippingServices[e]&&this.shippingServices[e].label,value:this.shippingServices[e]&&this.shippingServices[e].shipping_line&&this.shippingServices[e].shipping_line.total_price,items:t&&t.ecommerce&&t.ecommerce.checkout&&t.ecommerce.checkout.products}})}}},watch:{shippedItems:{handler(){setTimeout((()=>{this.localShippedItems=this.shippedItems.map(_);const{amountSubtotal:e}=this;this.amountSubtotal=this.shippedItems.reduce(((e,t)=>e+Object(l.a)(t)*t.quantity),0),this.hasCalculated&&(this.canSelectServices||e!==this.amountSubtotal||!this.shippingServices.length&&!this.isWaiting)&&this.fetchShippingServices()}),50)},deep:!0,immediate:!0},localZipCode(e){"BR"===this.countryCode&&8===e.replace(/\D/g,"").length&&this.submitZipCode()},zipCode:{handler(e){e&&(this.localZipCode=e)},immediate:!0},skipAppIds(){this.fetchShippingServices()},shippingResult:{handler(e){e.length&&this.parseShippingOptions(e)},immediate:!0}},created(){if(!this.zipCode&&h){const e=h.getItem(g);e&&(this.localZipCode=e)}}};t.a=v},235:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shipping-calculator"},[e.canInputZip?i("form",{staticClass:"shipping-calculator__form",on:{submit:function(t){return t.preventDefault(),e.submitZipCode.apply(null,arguments)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"shipping-calculator-zip"}},[e._v(" "+e._s(e.i19calculateShipping)+" ")]),i("div",{staticClass:"input-group"},[i("cleave-input",{staticClass:"form-control shipping-calculator__input",attrs:{type:"tel",id:"shipping-calculator-zip",placeholder:e.i19zipCode,"aria-label":e.i19zipCode,options:e.cleaveOptions},model:{value:e.localZipCode,callback:function(t){e.localZipCode=t},expression:"localZipCode"}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit","aria-label":e.i19calculateShipping}},[i("i",{staticClass:"i-shipping-fast"})])])],1)])]):e._e(),i("div",{staticClass:"shipping-calculator__services"},[i("transition-group",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated position-absolute fadeOutUp"}},[e.isWaiting?i("div",{key:"waiting",staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])]):i("div",{key:"services",staticClass:"list-group"},e._l(e.shippingServicesFinal,(function(t,s){return i(e.canSelectServices?"a":"div",{key:s,tag:"component",staticClass:"list-group-item",class:{"list-group-item-action":e.canSelectServices,active:e.canSelectServices&&e.selectedService===s},attrs:{href:e.canSelectServices&&"#"},on:{click:function(t){return t.preventDefault(),e.setSelectedService(s)}}},[i("span",{staticClass:"shipping-calculator__option"},[e._t("option",(function(){return[i("shipping-line",{attrs:{"shipping-line":t.shipping_line,"production-deadline":e.productionDeadline,"data-service-code":t.service_code,serviceCode:t.service_code}}),i("small",[e._v(e._s(t.label))])]}),null,{service:t})],2)])})),1)]),i("transition",{attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[e.freeFromPercentage?i("div",{staticClass:"shipping-calculator__free-from-value"},[e._t("free-from-value",(function(){return[i("span",[e._v(" "+e._s(e.i19add$1ToEarn.replace("$1",e.formatMoney(e.freeFromValue-e.amountSubtotal)))+" "),i("strong",[e._v(e._s(e.i19freeShipping))])]),e.freeFromPercentage>=33?i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar progress-bar-striped",style:"width: "+e.freeFromPercentage+"%",attrs:{role:"progressbar","aria-valuenow":e.freeFromPercentage,"aria-valuemin":"0","aria-valuemax":"100"}},[i("span",[e._v(" "+e._s(e.i19freeShipping)+" "),i("i",{staticClass:"i-truck mx-1"}),i("strong",[e._v(e._s(e.freeFromPercentage)+"%")])])])]):e._e()]}),null,{amountSubtotal:e.amountSubtotal,freeFromValue:e.freeFromValue,freeFromPercentage:e.freeFromPercentage})],2):e._e()])],1)])},a=[]},255:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"search-engine"},[i("a-backdrop",{attrs:{"is-visible":e.isAsideVisible},on:{"update:isVisible":function(t){e.isAsideVisible=t},"update:is-visible":function(t){e.isAsideVisible=t}}}),i("transition",{attrs:{"enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutRight"}},[i("aside",{directives:[{name:"show",rawName:"v-show",value:e.isAsideVisible,expression:"isAsideVisible"}],staticClass:"search-engine__aside card shadow"},[e._t("filters",(function(){return[i("header",{staticClass:"card-header"},[e._v(" "+e._s(e.i19refineSearch)+" "),i("button",{staticClass:"close",attrs:{type:"button","aria-label":e.i19closeFilters},on:{click:e.toggleFilters}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),i("div",{key:e.searchFilterId,staticClass:"card-body"},[e.hasSetPriceRange||e.priceOptions.length?i("div",{staticClass:"search-engine__filter search-engine__filter--price"},[i("h5",[e._v(e._s(e.i19price))]),e.hasSetPriceRange?i("a",{staticClass:"btn btn-link btn-sm mb-2",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.setPriceRange()}}},[i("i",{staticClass:"i-arrow-left mr-1"}),e._v(" "+e._s(e.i19all)+" ")]):e._e(),e._l(e.priceOptions,(function(t,s){var a=t.label,n=t.min,r=t.max;return i("div",{key:"Price-"+s,staticClass:"search-engine__option custom-control custom-radio"},[i("input",{staticClass:"custom-control-input",attrs:{type:"radio",name:"price-option",id:"Price-"+s},on:{click:function(t){return e.setPriceRange(n,r)}}}),i("label",{staticClass:"custom-control-label",attrs:{for:"Price-"+s}},[e._v(" "+e._s(a)+" ")])])})),e.priceRange.max-e.priceRange.min>2?i("div",{staticClass:"search-engine__option-range input-group input-group-sm mt-2"},[i("input",{ref:"inputMinPrice",staticClass:"form-control",attrs:{type:"text","aria-describedby":"search-engine-price-range","aria-label":"Min "+e.i19price,placeholder:"Min: "+Math.floor(e.priceRange.min)}}),i("input",{ref:"inputMaxPrice",staticClass:"form-control",attrs:{type:"text","aria-label":"Max","aria-describedby":"search-engine-price-range","aria-label":"Max "+e.i19price,placeholder:"Max: "+Math.ceil(e.priceRange.max)}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"search-engine-price-range"},on:{click:function(t){return e.handlePriceInputs()}}},[i("i",{staticClass:"i-chevron-right"})])])]):e._e()],2):e._e(),e._l(e.filters,(function(t,s){var a=t.filter,n=t.options,r=t.isSpec;return n.length?i("div",{key:"filters-"+a,staticClass:"search-engine__filter",class:"search-engine__filter--"+a},[e._o([i("button",{staticClass:"btn text-truncate",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapse-"+a,"aria-expanded":s<5?"true":"false","aria-controls":"collapse-"+a}},[i("i",{staticClass:"i-chevron-down"}),i("i",{staticClass:"i-chevron-up"}),e._v(" "+e._s(e.getFilterLabel(a))+" ")]),i("div",{staticClass:"collapse",class:s<5?"show":null,attrs:{id:"collapse-"+a}},e._l(n,(function(t,s){return i("div",{key:a+"-"+s,staticClass:"search-engine__option custom-control custom-checkbox"},[i("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:a+"-"+s},domProps:{checked:e.selectedOptions[a].indexOf(t.key)>-1},on:{change:function(i){return e.setFilterOption(a,t.key,i.target.checked)}}}),i("label",{staticClass:"custom-control-label",attrs:{for:a+"-"+s}},[e._v(" "+e._s(t.key)+" "),r?e._e():i("small",[e._v("("+e._s(t.doc_count)+")")])])])})),0)],0,"filters-"+a)],2):e._e()}))],2),i("footer",{staticClass:"card-footer"},[i("button",{staticClass:"btn btn-sm btn-block btn-outline-secondary",attrs:{type:"button"},on:{click:e.clearFilters}},[i("span",{staticClass:"mr-1"},[i("i",{staticClass:"i-trash"})]),e._v(" "+e._s(e.i19clearFilters)+" ")])])]}))],2)]),e.term?[e.hasEmptyResult?i("div",{staticClass:"search-engine__no-results mb-4"},[i("div",{staticClass:"lead mb-2"},[e.suggestedTerm?i("span",[e._v(" "+e._s(e.i19didYouMean)+" "),i("a",{attrs:{href:"#"},domProps:{textContent:e._s(e.suggestedTerm)},on:{click:function(t){return t.preventDefault(),e.$emit("update:term",e.suggestedTerm)}}}),e._v(" ? ")]):e._e(),e._v(" "+e._s(e.i19noResultsFor)+" "),i("em",[e._v(e._s(e.term))])]),e.popularItems.length?i("h4",[e._v(" "+e._s(e.i19popularProducts)+" ")]):e._e()]):i("div",{staticClass:"search-engine__terms mb-4"},[e.noResultsTerm?i("span",{staticClass:"d-none d-lg-inline"},[e._v(" "+e._s(e.i19noResultsFor)+" "),i("s",[e._v(e._s(e.noResultsTerm))]),e._v(". ")]):e._e(),i("span",{staticClass:"d-none d-md-inline"},[e._v(" Sua busca por: ")]),i("h1",[e._v(e._s(e.term))])])]:e.hasEmptyResult&&e.popularItems.length?i("h3",[e._v(" "+e._s(e.i19popularProducts)+" ")]):e._e(),i("transition",{attrs:{"enter-active-class":"animated fadeInRight slower","leave-active-class":"animated fadeOutRight"}},[e.isNavVisible&&e.hasFilters?i("button",{staticClass:"search-engine__aside-open btn btn-secondary",attrs:{type:"button","aria-label":e.i19filterResults,disabled:e.isSearching},on:{click:function(t){return e.toggleFilters(!0)}}},[e.isSearching?i("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])]):i("span",[i("span",{staticClass:"d-none d-md-inline"},[i("i",{staticClass:"i-search"})]),i("i",{staticClass:"i-filter"})])]):e._e()]),i("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp fast position-absolute"}},[e.isNavVisible?i("div",{staticClass:"search-engine__nav"},[i("div",{staticClass:"container"},[e._t("nav",(function(){return[i("div",{staticClass:"search-engine__count"},[i("strong",[e._v(e._s(e.totalSearchResults))]),e._v(" "+e._s(e.i19itemsFound)+" "),e.isSearching?i("div",{staticClass:"search-engine__spinner spinner-grow",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e._e()]),e.isFilterable?i("div",{staticClass:"search-engine__toggles"},[e.hasFilters?i("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(t){return e.toggleFilters(!0)}}},[i("i",{staticClass:"i-filter mr-1"}),i("span",{staticClass:"d-none d-md-inline-block"},[e._v(" "+e._s(e.i19filterResults)+" ")]),i("span",{staticClass:"d-md-none"},[e._v(" "+e._s(e.i19filter)+" ")])]):e._e(),i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn btn-light",attrs:{type:"button",id:"search-engine-sort","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"i-sort mr-1"}),e._v(" "+e._s(e.i19sort)+" ")]),i("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"search-engine-sort"}},e._l(e.sortOptions,(function(t,s){var a=t.value,n=t.label;return i("a",{key:"sort-"+s,staticClass:"dropdown-item",class:"search-engine__sort--"+a,attrs:{href:"#",active:e.selectedSortOption===a},on:{click:function(t){return t.preventDefault(),e.setSortOrder(a)}}},[e._v(" "+e._s(n)+" ")])})),0)])]):e._e()]}),null,{totalSearchResults:e.totalSearchResults,toggleFilters:e.toggleFilters})],2)]):e._e()]),i("transition",{attrs:{"enter-active-class":"animated fadeIn slower"}},[e.isResultsVisible?i("div",{staticClass:"search-engine__results fade",style:{opacity:e.isSearching&&!e.isLoadingMore?.4:1}},[i("div",{staticClass:"container"},[i("div",{staticClass:"search-engine__info px-lg-4"},[i("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[e.hasSelectedOptions&&e.isFilterable?i("div",[i("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:e.clearFilters}},[i("i",{staticClass:"i-trash mr-1"}),e._v(" "+e._s(e.i19clearFilters)+" ")]),e._l(e.selectedOptions,(function(t,s){return e._l(t,(function(t){return i("button",{staticClass:"search-engine__selected btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(i){return e.setFilterOption(s,t,!1)}}},[i("i",{staticClass:"i-times mr-1"}),e._v(" "+e._s(t)+" "),i("small",[e._v(e._s(e.getFilterLabel(s)))])])}))}))],2):e._e()])],1),e.canShowItems?i("article",{staticClass:"search-engine__retail item-retail-row"},[i("div",{staticClass:"row"},e._l(e.suggestedItems,(function(t,s){return i("div",{key:t._id,ref:s===e.pageAnchorIndex?"pageAnchor":null,refInFor:!0,staticClass:"col-6 col-md-4 col-lg-3 item-retail"},[e._t("product-card",(function(){return[i("product-card",e._b({staticClass:"search-engine__item",attrs:{product:t}},"product-card",e.productCardProps,!1))]}),null,{product:t})],2)})),0)]):e._e(),i("transition",{attrs:{"enter-active-class":"animated fadeInDown"}},[e.hasNetworkError?i("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[i("i",{staticClass:"i-wifi mr-2"}),e._v(" "+e._s(e.i19searchOfflineErrorMsg)+" "),i("a",{staticClass:"alert-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.fetchItems.apply(null,arguments)}}},[e._v(" "+e._s(e.i19searchAgain)+" ")])]):e._e()])],1)]):e._e()]),i("transition",{attrs:{"leave-active-class":"animated fadeOut"}},[!e.hasSearched||e.isLoadingMore?e._t("default"):e._e()],2),i(e.loadMoreSelector?"portal":"div",{tag:"component",attrs:{selector:e.loadMoreSelector}},[e.resultItems.length<e.totalSearchResults?i("div",{key:e.lastRequestId,staticStyle:{width:"100%","margin-top":"20px",height:"5px"},attrs:{id:"search-engine-load-more"}}):e._e()])],2)},a=[]}},0,[42,43]]);